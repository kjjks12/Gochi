<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noteMapper">

<!-- 메세지 정보 DTO properties와 DB Column 값 일치화 작업 -->
<resultMap type="gochi.travel.model.notedto.NoteDTO" id="resultNote">
	<id property="noteNo" column="NOTE_NO" />
	<result property="sendEmail" column="SEND_EMAIL"/>
	<result property="title" column="TITLE"/>
	<result property="content" column="CONTENT"/>
	<result property="dDay" column="D_DAY"/>
	<result property="flag" column="FLAG"/>
	<result property="receiveEmail" column="EMAIL"/>
</resultMap>

<!-- 메세지 columns -->
<sql id="noteColumns">
	NOTE_NO,SEND_EMAIL,TITLE,CONTENT,D_DAY,FLAG,EMAIL
</sql>

<!-- (메세지를 받은) 회원의 쪽지 리스트 검색  -->
<select id="selectMessage" parameterType="String" resultMap="resultNote">
	select <include refid="noteColumns"/>
	from NOTE
	where EMAIL = #{_parameter}
	order by D_DAY DESC
</select>
</mapper>