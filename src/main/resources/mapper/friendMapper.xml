<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="friendMapper">

<!-- 친구 리스트 정보 DTO properties와 DB Column 값 일치화 작업 -->

<resultMap type="gochi.travel.model.frienddto.FriendDTO" id="friendMypageDTO">
	<id property="friendNo" column="FRIEND_NO"/>
	<result property="email" column="EMAIL"/>
	<result property="fEmail" column="F_EMAIL"/>
</resultMap>

<!-- 친구 리스트 columns -->
<sql id="friendColumns">
	FRIEND_NO,EMAIL,F_EMAIL
</sql>

<!-- 해당 멤버의 친구 리스트 조회 -->
<select id="selectFriendList" parameterType="String" resultMap="friendMypageDTO">
	select <include refid="friendColumns"/>
	from Friend
	where EMAIL =#{_parameter}
</select>

<!-- 친구 추가 이전에 검색을 통한 친구 찾기 -->
<select id="selectFriend" parameterType="Map" resultMap="friendMypageDTO">
	select <include refid="friendColumns"/>
	from Friend
	where EMAIL = #{email}
	and F_EMAIL like '%'||#{f_email}||'%'
</select>

</mapper>